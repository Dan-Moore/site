---
title: Hello React! Part 4 - Coding an RSS Feed
description: Series on building a website with react and hosting it on GitHub Pages.
series: Hello React!
published_date: "2024-10-05"
modified_date: "2024-10-05"
---

# Coding A RSS Feed
This project uses the [RSS](https://github.com/dylang/node-rss) library to generate a feed.

You can add rss into project with the following command:
```sh
npm add rss
```

Within the /app directory, create a folder called [rss.xml](https://github.com/Dan-Moore/site/blob/main/app/rss.xml).
The folder name will become both the url path and the .xml file name.

In the newly created folder, make a [route.tsx](https://github.com/Dan-Moore/site/blob/main/app/rss.xml/route.tsx) file.
In this script, I'm grabbing all the posts objects generated by contentlayer and making a simple RSS feed with them.
```tsx
import { allPosts } from "@/.contentlayer/generated"
import { allPages } from "@/.contentlayer/generated"
import '@next/env'
import RSS from 'rss';

const feed = new RSS({
  title: `${process.env.RSS_TITLE}`,
  description: process.env.RSS_DESC,
  site_url: `${process.env.RSS_SITE_URL}`,
  feed_url: `${process.env.RSS_FEED_URL}`,
  copyright: `${new Date().getFullYear()} ${process.env.RSS_COPYRIGHT_MSG}`,
  language: 'en',
  pubDate: new Date(),
});

export async function GET() {
    // Adding entries on the feed.
    allPosts
      .filter((post) => !post.draft && !post.hide_rss)
        .map((post) => {
            feed.item({
        title: post.title,
        guid: `${process.env.BASE_PATH}${post.slug}`,
        url: `${process.env.BASE_PATH}${post.slug}`,
        date: `${post.published_date}`,
        description: `${post.description}`,
        author: 'Daniel Moore',
      });
    });

    allPages
      .filter((page) => !page.draft && !page.hide_rss)
      .map((page) => {
        feed.item({
            title: page.title,
            guid: `${process.env.BASE_PATH}${page.slug}`,
            url: `${process.env.BASE_PATH}${page.slug}`,
                    date: `${page.published_date}`,
                    description: `${page.description}`,
                    author: 'Daniel Moore',
                  });
                });

return new Response(feed.xml({ indent: true }), {
  headers: {
    'Content-Type': 'application/atom+xml; charset=utf-8',
  },
});
}
```